import React, { useEffect, useRef, useState } from "react";
import { Link, useNavigate, useLocation } from "react-router-dom";
import Navbar from "../components/navbar/StudentNavbar";
import {
  setSelected,
  selectedStudent,
} from "../redux/student/sidebar/sideSlice";
import { useDispatch, useSelector } from "react-redux";

const StudentLayout = ({ children }) => {
  const navigate = useNavigate();

  const selection = useSelector(selectedStudent);
  const dispatch = useDispatch();
  const [open, setOpen] = useState(false);

  const [down, setDown] = useState(0);
  const [temp, setTemp] = useState(selection);
  const location = useLocation();
  const bottom = useRef(null);

  const arr = [
    {
      name: "Dashboard",
      path: "/student/dashboard",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2.64642 7.4993H7.5779V2.4998H2.64642V7.4993ZM1.66012 9.5C1.11504 9.5 0.673828 9.0518 0.673828 8.50009V1.49989C0.673828 0.94729 1.11504 0.5 1.66012 0.5H8.56508C9.10928 0.5 9.55138 0.9473 9.55138 1.49989V8.50009C9.55138 9.0518 9.10928 9.5 8.56508 9.5H1.66012ZM13.4966 7.4993H18.4289V2.4998H13.4966V7.4993ZM12.5103 9.5C11.9652 9.5 11.524 9.0518 11.524 8.50009V1.49989C11.524 0.94729 11.9652 0.5 12.5103 0.5H19.4152C19.9594 0.5 20.4015 0.9473 20.4015 1.49989V8.50009C20.4015 9.0518 19.9594 9.5 19.4152 9.5H12.5103ZM2.64642 18.5H7.5779V13.4996H2.64642V18.5ZM1.66012 20.4998C1.11504 20.4998 0.673828 20.0516 0.673828 19.4999V12.4997C0.673828 11.9471 1.11504 11.4998 1.66012 11.4998H8.56508C9.10928 11.4998 9.55138 11.9471 9.55138 12.4997V19.4999C9.55138 20.0516 9.10928 20.4998 8.56508 20.4998H1.66012ZM13.4966 18.5H18.4289V13.4996H13.4966V18.5ZM12.5103 20.4998C11.9652 20.4998 11.524 20.0516 11.524 19.4999V12.4997C11.524 11.9471 11.9652 11.4998 12.5103 11.4998H19.4152C19.9594 11.4998 20.4015 11.9471 20.4015 12.4997V19.4999C20.4015 20.0516 19.9594 20.4998 19.4152 20.4998H12.5103Z"
            fill={`${temp === 0 || selection === 0 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
    {
      name: "Test",
      path: "/student/test",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="21"
          height="21"
          viewBox="0 0 21 21"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2.64642 7.4993H7.5779V2.4998H2.64642V7.4993ZM1.66012 9.5C1.11504 9.5 0.673828 9.0518 0.673828 8.50009V1.49989C0.673828 0.94729 1.11504 0.5 1.66012 0.5H8.56508C9.10928 0.5 9.55138 0.9473 9.55138 1.49989V8.50009C9.55138 9.0518 9.10928 9.5 8.56508 9.5H1.66012ZM13.4966 7.4993H18.4289V2.4998H13.4966V7.4993ZM12.5103 9.5C11.9652 9.5 11.524 9.0518 11.524 8.50009V1.49989C11.524 0.94729 11.9652 0.5 12.5103 0.5H19.4152C19.9594 0.5 20.4015 0.9473 20.4015 1.49989V8.50009C20.4015 9.0518 19.9594 9.5 19.4152 9.5H12.5103ZM2.64642 18.5H7.5779V13.4996H2.64642V18.5ZM1.66012 20.4998C1.11504 20.4998 0.673828 20.0516 0.673828 19.4999V12.4997C0.673828 11.9471 1.11504 11.4998 1.66012 11.4998H8.56508C9.10928 11.4998 9.55138 11.9471 9.55138 12.4997V19.4999C9.55138 20.0516 9.10928 20.4998 8.56508 20.4998H1.66012ZM13.4966 18.5H18.4289V13.4996H13.4966V18.5ZM12.5103 20.4998C11.9652 20.4998 11.524 20.0516 11.524 19.4999V12.4997C11.524 11.9471 11.9652 11.4998 12.5103 11.4998H19.4152C19.9594 11.4998 20.4015 11.9471 20.4015 12.4997V19.4999C20.4015 20.0516 19.9594 20.4998 19.4152 20.4998H12.5103Z"
            fill={`${temp === 1 || selection === 1 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
    {
      name: "Companies",
      path: "/student/companies",
      icon: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="25"
          height="21"
          viewBox="0 0 25 21"
          fill="none"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M18.6941 9.49971C18.1775 9.49971 17.7587 9.9474 17.7587 10.4996C17.7587 11.052 18.1775 11.4998 18.6941 11.4998C19.2108 11.4998 19.6295 11.052 19.6295 10.4996C19.6295 9.9474 19.2108 9.49971 18.6941 9.49971ZM18.6941 8.49981H22.436V12.4997H18.6941C17.6512 12.4997 16.8232 11.6149 16.8232 10.4996C16.8232 9.38491 17.6512 8.49981 18.6941 8.49981ZM4.66188 2.57012V18.429C4.56365 18.4208 4.42221 18.42 4.33474 18.4095C3.63734 18.3259 3.35613 18.1797 3.22385 18.0384C3.09167 17.8972 2.95359 17.5967 2.87492 16.8508C2.79615 16.1051 2.79091 16.9961 2.79091 15.4993V5.49933C2.79091 4.00412 2.79662 4.89542 2.87492 4.14984C2.95322 3.40423 3.08989 3.10373 3.22198 2.96234C3.35426 2.82104 3.63528 2.67343 4.33296 2.58914C4.4209 2.57864 4.563 2.57812 4.66188 2.56964V2.57012ZM7.46824 2.49981H17.7587C19.1573 2.49981 20.1947 2.50591 20.8921 2.58953C21.5896 2.67321 21.8708 2.81951 22.0029 2.96062C22.1352 3.10213 22.2733 3.40261 22.3521 4.14821C22.4307 4.89403 22.436 4.00313 22.436 5.49962V6.49971H18.6941C18.6254 6.49892 18.5566 6.50603 18.4895 6.52122C16.5297 6.63832 14.9521 8.3776 14.9521 10.4996C14.9521 12.622 16.5298 14.3614 18.4895 14.4782C18.5566 14.4934 18.6254 14.5007 18.6941 14.4997H22.436V15.4997C22.436 16.995 22.4302 16.1038 22.3521 16.8495C22.2737 17.5951 22.137 17.8954 22.0048 18.0367C21.8726 18.1784 21.5915 18.3258 20.8939 18.41C20.1963 18.494 19.1588 18.4997 17.7587 18.4997H7.46824C7.1106 18.4997 6.84361 18.4939 6.53275 18.4921C6.53275 18.49 6.53275 18.488 6.53275 18.4862V2.513C6.53275 2.5112 6.53275 2.50919 6.53275 2.5072C6.84361 2.50531 7.11051 2.49939 7.46824 2.49939V2.49981ZM7.46824 0.499933C6.06707 0.499933 5.00295 0.497213 4.12285 0.603423C3.24265 0.709533 2.46995 0.939823 1.89911 1.55053C1.32837 2.16131 1.11349 2.98742 1.0148 3.92764C0.916106 4.86773 0.919848 4.00403 0.919848 5.50003V15.4998C0.919848 16.9976 0.917416 16.1354 1.01667 17.0761C1.11602 18.0167 1.33137 18.843 1.90285 19.453C2.47425 20.0631 3.24696 20.2929 4.12641 20.3984C5.00604 20.5039 6.06903 20.5 7.46824 20.5H17.7586C19.1598 20.5 20.2239 20.5026 21.104 20.3964C21.984 20.2903 22.7569 20.06 23.3278 19.4493C23.8986 18.8383 24.1134 18.0124 24.2121 17.0722C24.3108 16.1319 24.3071 16.9956 24.3071 15.4998V13.4999V7.49992V5.50001C24.3071 4.00202 24.3095 4.86451 24.2102 3.92381C24.1109 2.98301 23.8955 2.15681 23.324 1.5467C22.7526 0.936503 21.98 0.707013 21.1005 0.601423C20.2208 0.495803 19.1578 0.499923 17.7586 0.499923H7.46824V0.499933Z"
            fill={`${temp === 2 || selection === 2 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
    {
      name: "Jobs",
      path: "/student/jobs",
      icon: (
        <svg
          width="20"
          height="29"
          viewBox="0 0 20 29"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M14.4837 15.0139H5.12898C5.12056 15.0139 5.1113 15.0139 5.10288 15.0139C4.58593 15.0057 4.17338 14.5521 4.18012 13.9995C4.1877 13.447 4.61287 13.0059 5.12898 13.0141H14.4837C14.493 13.0131 14.5014 13.0131 14.5107 13.0141C15.0268 13.0213 15.4402 13.4757 15.4326 14.0274C15.4251 14.5756 15.0075 15.014 14.4962 15.0139C14.4921 15.0139 14.4879 15.0139 14.4837 15.0139V15.0139ZM14.4837 19.0134H5.12898C5.12056 19.0134 5.1113 19.0134 5.10288 19.0134C4.58593 19.0062 4.17338 18.5518 4.18012 17.9992C4.1877 17.4475 4.61287 17.0056 5.12898 17.0136H14.4837C14.493 17.0136 14.5014 17.0136 14.5107 17.0136C15.0268 17.0217 15.4402 17.4754 15.4326 18.028C15.4251 18.5747 15.0083 19.0136 14.4977 19.0136C14.4931 19.0136 14.4884 19.0135 14.4837 19.0134V19.0134ZM14.4837 23.0139H5.12898C5.12056 23.0139 5.1113 23.0139 5.10288 23.0139C4.58593 23.0059 4.17338 22.5523 4.18012 21.9996C4.1877 21.447 4.61287 21.0061 5.12898 21.0142H14.4837C14.493 21.0133 14.5014 21.0133 14.5107 21.0142C15.0268 21.0214 15.4402 21.4758 15.4326 22.0275C15.4251 22.5758 15.0075 23.0141 14.4962 23.0141C14.4921 23.0141 14.4879 23.014 14.4837 23.0139V23.0139ZM13.5483 6.01387H17.268C17.2495 5.76363 17.215 5.60164 17.1493 5.46126C17.023 5.19124 16.6197 4.71157 15.6927 3.72066C14.7658 2.72975 14.3187 2.29775 14.0687 2.16457C13.9382 2.09438 13.7841 2.05745 13.5483 2.03676V6.01387ZM3.86439 2.10335C3.16643 2.18794 2.88522 2.33553 2.75388 2.47682C2.6217 2.61812 2.48446 2.91878 2.40616 3.66395C2.32786 4.41004 2.32197 5.51887 2.32197 7.01374V21.0142C2.32197 22.5108 2.32786 23.6196 2.40616 24.3657C2.4853 25.111 2.62338 25.4116 2.75556 25.5529C2.88775 25.6942 3.16895 25.8399 3.86608 25.9236C4.56404 26.0073 5.60131 26.0136 6.99976 26.0136H12.6129C12.6348 26.0136 12.6567 26.0145 12.6786 26.0154C14.0392 26.0154 15.0613 26.0082 15.7458 25.9254C16.4438 25.8417 16.725 25.6942 16.8571 25.5529C16.9893 25.4116 17.1274 25.1127 17.2057 24.3676C17.2848 23.6215 17.2899 22.5126 17.2899 21.0159V8.01362H12.6129C12.096 8.01362 11.6776 7.56635 11.6767 7.01374V2.01331H6.99976C5.59962 2.01331 4.56236 2.01966 3.86439 2.10334V2.10335ZM12.6129 28.0161C12.5911 28.0161 12.5692 28.0153 12.5473 28.0134H6.99976C5.60046 28.0134 4.5371 28.018 3.65812 27.9127C2.7783 27.8065 2.0054 27.5769 1.43457 26.9667C0.862892 26.3565 0.647357 25.5303 0.548008 24.5899C0.44866 23.6494 0.451186 22.5117 0.451186 21.0142V7.01375C0.451186 5.51796 0.447818 4.38124 0.546324 3.44167C0.644831 2.50118 0.859524 1.67495 1.43036 1.06478C2.00119 0.453628 2.77409 0.223228 3.65391 0.117028C4.53457 0.0108278 5.59878 0.0135778 6.99976 0.0135778H12.4631C12.5077 0.00545781 12.5523 0.00094781 12.5978 8.78097e-05C12.6635 -0.00083219 12.7291 0.00545781 12.794 0.0198678C13.6275 0.0207878 14.2674 0.0342678 14.9081 0.377168C15.5985 0.747038 16.0885 1.31498 17.0163 2.3068C17.9449 3.29948 18.4779 3.8278 18.8231 4.56669C19.143 5.25065 19.1548 5.93559 19.1556 6.82029C19.1784 6.93998 19.1801 7.06236 19.1615 7.18205V21.016C19.1615 22.5136 19.1632 23.6494 19.0647 24.5899C18.9654 25.5304 18.7498 26.3565 18.1781 26.9668C17.6065 27.5769 16.8344 27.8065 15.9546 27.9127C15.1038 28.0145 14.0824 28.0161 12.7506 28.0161C12.7052 28.0161 12.6592 28.0161 12.613 28.0161L12.6129 28.0161Z"
            fill={`${temp === 3 || selection === 3 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
    {
      name: "Results",
      path: "/student/results",
      icon: (
        <svg
          width="25"
          height="21"
          viewBox="0 0 25 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M15.887 16.5427L17.8066 10.5136C17.9337 10.114 18.2907 9.844 18.694 9.844H22.4356V3.00037C22.4356 2.44776 22.0171 2.00049 21.5002 2.00049H11.2589L15.887 16.5427ZM2.7907 3.00037V18.0007C2.7907 18.5524 3.20914 19.0006 3.72609 19.0006H14.6971L10.2747 5.10456L8.35505 11.1337C8.22792 11.5342 7.87094 11.8033 7.46765 11.8033H3.72609C3.20914 11.8033 2.7907 11.365 2.7907 10.8241C2.7907 10.2823 3.20914 9.844 3.72609 9.844H6.79411L9.29045 2.00049H3.72609C3.20914 2.00049 2.7907 2.44776 2.7907 3.00037ZM21.5002 19.0006C22.0171 19.0006 22.4356 18.5524 22.4356 18.0007V11.8033H19.3684L17.077 19.0006H21.5002ZM3.72609 21.0004C2.17609 21.0004 0.919922 19.6567 0.919922 18.0007V3.00037C0.919922 1.34351 2.17609 -0.000244141 3.72609 -0.000244141H21.5002C23.0502 -0.000244141 24.3064 1.34351 24.3064 3.00037V18.0007C24.3064 19.6567 23.0502 21.0004 21.5002 21.0004H3.72609Z"
            fill={`${temp === 4 || selection === 4 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
    { name: "Notifications", path: "" },

    {
      name: "Profile",
      path: "/student/profile",
      icon: (
        <svg
          width="18"
          height="21"
          viewBox="0 0 18 21"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M6.06351 5.50037C6.06351 7.15729 7.32052 8.50006 8.87053 8.50006C10.4205 8.50006 11.6767 7.15729 11.6767 5.50037C11.6767 3.84351 10.4205 2.50068 8.87053 2.50068C7.32052 2.50068 6.06351 3.84351 6.06351 5.50037ZM4.19273 5.50037C4.19273 2.7392 6.28663 0.5 8.87053 0.5C11.4536 0.5 13.5475 2.7392 13.5475 5.50037C13.5475 8.2616 11.4536 10.4999 8.87053 10.4999C6.28663 10.4999 4.19273 8.2616 4.19273 5.50037ZM15.4183 19.4999V17.5001C15.4183 15.8432 14.1621 14.5004 12.6121 14.5004H5.12812C3.57812 14.5004 2.32195 15.8432 2.32195 17.5001V19.4999C2.32195 20.0525 1.90267 20.4998 1.38656 20.4998C0.869614 20.4998 0.451172 20.0525 0.451172 19.4999V17.5001C0.451172 14.7389 2.54507 12.4997 5.12812 12.4997H12.6121C15.1951 12.4997 17.2899 14.7389 17.2899 17.5001V19.4999C17.2899 20.0525 16.8706 20.4998 16.3545 20.4998C15.8375 20.4998 15.4183 20.0525 15.4183 19.4999Z"
            fill={`${temp === 6 || selection === 6 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },

    {
      name: "Inbox",
      path: "/student/inbox",
      icon: (
        <svg
          width="22"
          height="19"
          viewBox="0 0 22 19"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M7.46765 9.49999C7.78085 9.49999 8.07301 9.66735 8.24644 9.94549L9.83939 12.4997H12.5799L14.1737 9.94549C14.3471 9.66735 14.6393 9.49999 14.9516 9.49999H19.1256L16.4637 3.09557C16.313 2.73284 15.9779 2.49974 15.6066 2.49974H6.81262C6.44217 2.49974 6.10624 2.73283 5.95637 3.09557L3.29455 9.49999H7.46765ZM2.7907 15.4994C2.7907 16.052 3.20914 16.4993 3.72609 16.4993H18.694C19.2101 16.4993 19.6294 16.052 19.6294 15.4994V11.4998H15.4526L13.8596 14.0549C13.6853 14.333 13.394 14.4994 13.0808 14.4994H9.33928C9.02608 14.4994 8.73393 14.333 8.56049 14.0549L6.96754 11.4998H2.7907V15.4994ZM3.72609 18.5C2.17609 18.5 0.919922 17.1562 0.919922 15.4994V10.4999C0.919922 10.4911 0.920025 10.4825 0.920231 10.4738C0.920249 10.4732 0.920277 10.4726 0.920296 10.472C0.920736 10.4551 0.92155 10.4383 0.922747 10.4216C0.922766 10.4213 0.922794 10.4211 0.922822 10.4208C0.924066 10.4037 0.925713 10.3868 0.927752 10.3699C0.927845 10.3691 0.927967 10.3684 0.928061 10.3676C0.929005 10.3599 0.930025 10.3522 0.931129 10.3446C0.931372 10.343 0.931643 10.3413 0.931896 10.3397C0.932906 10.333 0.933945 10.3263 0.935077 10.3196C0.935544 10.3169 0.936059 10.3142 0.936545 10.3115C0.937518 10.306 0.938482 10.3005 0.939539 10.2951C0.940278 10.2913 0.941073 10.2875 0.941859 10.2838C0.942729 10.2795 0.943599 10.2752 0.944525 10.271C0.945601 10.2661 0.946752 10.2611 0.947893 10.2562C0.948576 10.2533 0.949249 10.2503 0.949951 10.2474C0.951382 10.2415 0.952898 10.2356 0.954441 10.2297C0.954909 10.2279 0.955386 10.226 0.955863 10.2242C0.957734 10.2172 0.959699 10.2101 0.961729 10.2032C0.961841 10.2028 0.961972 10.2023 0.962084 10.2019C0.972721 10.1653 0.985284 10.1292 0.999896 10.094L4.2464 2.28467C4.69599 1.19928 5.70295 0.5 6.81346 0.5H15.6058C16.7171 0.5 17.7241 1.19928 18.1737 2.28375L21.4063 10.0626C21.4664 10.1946 21.5002 10.343 21.5002 10.4999V15.4994C21.5002 17.1562 20.244 18.5 18.694 18.5L3.72609 18.5Z"
            fill={`${temp === 7 || selection === 7 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },

    {
      name: "Settings",
      path: "/student/settings",
      icon: (
        <svg
          width="23"
          height="24"
          viewBox="0 0 23 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M9.80592 12.0004C9.80592 13.1046 10.6436 14.0001 11.6767 14.0001C12.7098 14.0001 13.5475 13.1046 13.5475 12.0004C13.5475 10.8952 12.7098 10.0006 11.6767 10.0006C10.6436 10.0006 9.80592 10.8951 9.80592 12.0004ZM7.93429 12.0004C7.93429 9.79091 9.60975 7.99989 11.6767 7.99989C13.7428 7.99989 15.4183 9.79091 15.4183 12.0004C15.4183 14.209 13.7428 16 11.6767 16C9.60975 16 7.93429 14.209 7.93429 12.0004ZM9.19299 18.4614C10.1486 18.8368 10.7918 19.7988 10.8162 20.9094V21.0004C10.8162 21.5521 11.2347 22.0003 11.7516 22.0003C12.2677 22.0003 12.687 21.5521 12.687 21.0004V20.8258C12.6912 19.77 13.2814 18.817 14.1806 18.4048C15.1076 17.9683 16.1903 18.178 16.922 18.943L16.9784 19.0033C17.1543 19.1914 17.3917 19.2966 17.6401 19.2966C17.8885 19.2966 18.1268 19.1914 18.3027 19.0023C18.4787 18.8152 18.5772 18.5604 18.5772 18.2949C18.5772 18.0294 18.4787 17.7748 18.3027 17.5867L18.2396 17.5192C17.5318 16.7465 17.3347 15.5924 17.7406 14.6027C17.7408 14.6023 17.7409 14.6019 17.7412 14.6013C18.1318 13.633 19.0217 13.0048 20.0119 13.0003H20.0961C20.613 13.0003 21.0314 12.5521 21.0314 12.0004C21.0314 11.4478 20.613 10.9995 20.0961 10.9995H19.9336C18.9451 10.996 18.0535 10.3651 17.6645 9.39395C17.6309 9.30936 17.6081 9.22024 17.5972 9.13028C17.2865 8.18436 17.5021 7.12418 18.1714 6.39334L18.2278 6.33218C18.4038 6.14505 18.5023 5.89029 18.5023 5.62478C18.5023 5.35928 18.4038 5.10549 18.2278 4.91653C18.0518 4.72927 17.8136 4.62307 17.5652 4.62307C17.3168 4.62307 17.0794 4.72927 16.9034 4.91738L16.8394 4.98488C16.1154 5.74269 15.0326 5.95241 14.1149 5.51955C13.2065 5.1028 12.6163 4.15053 12.6121 3.09035V3.00038C12.6121 2.44777 12.1936 1.99953 11.6767 1.99953C11.1597 1.99953 10.7413 2.44777 10.7413 3.00038V3.17409C10.7371 4.23073 10.1469 5.18288 9.23844 5.59963C9.1593 5.63564 9.07679 5.65993 8.99176 5.67165C8.10772 6.00283 7.11592 5.77333 6.43143 5.0569L6.37502 4.9966C6.19906 4.80934 5.96079 4.70314 5.71326 4.70314C5.46489 4.70314 5.22662 4.80934 5.05066 4.99745C4.87469 5.18471 4.77619 5.43934 4.77619 5.70485C4.77619 5.97035 4.87469 6.22511 5.05066 6.41322L5.1138 6.48072C5.82271 7.25562 6.01888 8.41297 5.63243 9.34534C5.2805 10.366 4.38132 11.0544 3.34153 11.0797H3.25733C2.74039 11.0797 2.32194 11.5278 2.32194 12.0804C2.32194 12.6322 2.74039 13.0803 3.25733 13.0803H3.41983C4.40826 13.084 5.29987 13.7148 5.68463 14.676C6.09381 15.667 5.89764 16.8243 5.182 17.6074L5.12475 17.6677C4.94962 17.8549 4.85112 18.1096 4.85112 18.3751C4.85112 18.6406 4.94962 18.8953 5.12559 19.0834C5.30155 19.2715 5.53982 19.3768 5.78735 19.3768C6.03572 19.3768 6.27399 19.2715 6.44995 19.0825L6.5131 19.015C6.99236 18.5139 7.62807 18.2526 8.2559 18.2526C8.5777 18.2526 8.8974 18.3212 9.19298 18.4614H9.19299ZM8.94546 21.0004C8.93957 20.6665 8.78128 20.4307 8.4925 20.3146C8.26518 20.2075 7.99912 20.2588 7.82905 20.437L7.77348 20.4973C7.24728 21.0598 6.53247 21.3766 5.78736 21.3766C5.04309 21.3766 4.32828 21.0598 3.80292 20.4973C3.27587 19.9348 2.9795 19.1716 2.9795 18.3751C2.9795 17.5786 3.27587 16.8154 3.80292 16.2529L3.85175 16.2007C4.02519 16.0108 4.07318 15.7273 3.96878 15.4735C3.87364 15.2359 3.65474 15.0811 3.41647 15.0802H3.25734C1.70734 15.0802 0.451172 13.7374 0.451172 12.0805C0.451172 10.4227 1.70734 9.07985 3.25734 9.07985C3.56886 9.07362 3.79029 8.90529 3.89806 8.59657C3.99825 8.35267 3.95026 8.06923 3.78355 7.88734L3.72798 7.82801C3.20093 7.26453 2.90541 6.50135 2.90541 5.70484C2.90541 4.90833 3.20093 4.14515 3.72714 3.58362C4.25419 3.02014 4.96816 2.70337 5.71327 2.70337C6.45754 2.70337 7.17234 3.02014 7.69771 3.58264L7.74738 3.63489C7.92419 3.82117 8.19024 3.87244 8.41757 3.76538C8.47734 3.73657 8.53965 3.71582 8.60363 3.70142C8.76781 3.58265 8.86969 3.38379 8.87053 3.17041V3.00037C8.87053 1.34351 10.1267 -0.000244141 11.6767 -0.000244141C13.2267 -0.000244141 14.4829 1.34351 14.4829 3.00037V3.08582C14.4837 3.3451 14.6285 3.57911 14.8609 3.68531C15.0882 3.79237 15.3543 3.7411 15.5243 3.56287L15.5799 3.50342C16.1061 2.94007 16.8209 2.62329 17.5652 2.62329C18.3103 2.62329 19.0243 2.94006 19.5505 3.50256C20.0775 4.06506 20.3739 4.82922 20.3739 5.62475C20.3739 6.42126 20.0775 7.18444 19.5505 7.74694L19.5016 7.79919C19.3282 7.98901 19.2802 8.27343 19.3804 8.51648C19.4065 8.58032 19.4267 8.64697 19.4402 8.71533C19.5513 8.89087 19.7374 8.9989 19.9369 8.99975H20.0961C21.6461 8.99975 22.9022 10.3425 22.9022 12.0004C22.9022 13.6572 21.6461 15.0001 20.0961 15.0001H20.0152C19.7736 15.001 19.5547 15.1558 19.4587 15.3933C19.3543 15.6472 19.4031 15.9307 19.569 16.1134L19.6254 16.1727C20.1525 16.7352 20.448 17.4984 20.448 18.2949C20.448 19.0914 20.1525 19.8546 19.6263 20.4171C19.0992 20.9796 18.3852 21.2965 17.6401 21.2965C16.8959 21.2965 16.1811 20.9796 15.6548 20.4171L15.606 20.365C15.4284 20.1787 15.1632 20.1273 14.9266 20.239C14.7035 20.3415 14.5586 20.5747 14.5578 20.8303V21.0004C14.5578 22.6572 13.3016 24.0001 11.7516 24.0001C10.2016 24.0001 8.94546 22.6572 8.94546 21.0004V21.0004Z"
            fill={`${temp === 8 || selection === 8 ? "#171717" : "white"}`}
          />
        </svg>
      ),
    },
  ];

  useEffect(() => {
    // bottom.current.scrollIntoView();
    if (location.pathname.match(/\/student\/dashboard*/)) {
      dispatch(setSelected(0));
      setDown(0);
    }

    if (location.pathname.match(/\/student\/test*/)) {
      dispatch(setSelected(1));
      setDown(1);
    }
    if (location.pathname.match(/\/student\/companies*/)) {
      dispatch(setSelected(2));
      setDown(2);
    }

    if (location.pathname.match(/\/student\/jobs*/)) {
      dispatch(setSelected(3));
      setDown(3);
    }

    if (location.pathname.match(/\/student\/results*/)) {
      dispatch(setSelected(4));
      setDown(4);
    }

    if (location.pathname.match(/\/student\/profile*/)) {
      dispatch(setSelected(6));
      setDown(6);
    }

    if (location.pathname.match(/\/student\/inbox*/)) {
      dispatch(setSelected(7));
      setDown(7);
    }

    if (location.pathname.match(/\/student\/settings*/)) {
      dispatch(setSelected(8));
      setDown(8);
    }
  }, []);

  return (
    <>
      <Navbar open={open} setOpen={setOpen} />
      <div className=" h-full bg-blued relative">
        <div className="flex  justify-start pt-20 ">
          <aside
            className={` px-4 h-[90vh] transition-width max-w-[15rem] overflow-x-hidden bg-secondary fixed left-0 z-30  scrollbar overflow-y-scroll ${
              open ? "w-1/2" : "w-14 lg:w-full "
            }`}
          >
            {" "}
            <ul className="list-none">
              {arr.map((el, i) => {
                return (
                  <>
                    {temp === i ||
                      (selection === i && (
                        <div className="" ref={bottom}></div>
                      ))}
                    {el.name === "Notifications" && (
                      <div
                        className={`${
                          open ? "w-full " : "w-1 sm:w-full"
                        } -ml-2 mb-9 text-white text-base font-bold`}
                      >
                        NOTIFICATIONS
                      </div>
                    )}
                    <li
                      onMouseOver={() => dispatch(setSelected(i))}
                      onMouseOut={() => dispatch(setSelected(down))}
                      onMouseDown={(e) => {
                        e.preventDefault();
                        setDown(i);
                        dispatch(setSelected(i));

                        setOpen(false);

                        window.scrollTo({
                          top:
                            window.scrollY +
                            bottom.current.getBoundingClientRect().top,
                          behavior: "smooth",
                        });
                        return navigate(el.path);
                      }}
                    >
                      <button
                        className={` ml-[-10px] sm:ml-[5px] flex gap-4 mb-10  h-fit  py-2 justify-start ${
                          el.name === "Notifications"
                            ? "ml-[-20px] hidden"
                            : "btn "
                        }
                     ${
                       open ? "w-full " : "w-1 sm:w-full"
                     }   shadow-none text-white rounded-xl border-none  mt-2 focus:outline-none  max-w-xs hover:bg-white hover:text-black mx-auto 
                     ${
                       temp === i || selection === i
                         ? "bg-white !text-black"
                         : "bg-blued"
                     }
                       `}
                      >
                        <div className="w-4 ml-[-10px] ">{el.icon}</div>

                        <h3
                          className={`text-xl font-dmSans ${
                            open ? "" : "lg:block hidden"
                          } w-fit h-fit`}
                        >
                          {el.name}
                        </h3>
                      </button>
                    </li>
                  </>
                );
              })}

              <li className="mb-5 pl-8 font-dmSans text-sm font-bold">
                <h2>© 2022 skillassess</h2>
              </li>
            </ul>
          </aside>

          <div className="bg-white rounded-3xl h-full min-h-[95vh] w-full p-4 mx-4 ml-14 lg:ml-60 mt-9 font-dmSans">
            {children}
          </div>
        </div>
      </div>
    </>
  );
};

export default StudentLayout;
